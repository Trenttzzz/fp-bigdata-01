FROM python:3.9-slim

WORKDIR /app

# Install dependencies
RUN pip install --no-cache-dir \
  kafka-python==2.0.2 \
  pandas==2.1.4 \
  faker==22.5.0 \
  schedule==1.2.0 \
  pyarrow==15.0.0

# Copy producer scripts
COPY ./producer-scripts/ ./scripts/
COPY ./datasets/ ./datasets/

# Run the AutoMQ producer
CMD ["python", "scripts/ecommerce_producer.py"]
