<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Product Success Command Center</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="main-container">
    <header>
      <h1>Product Evaluation Dashboard</h1>
      <p id="last-updated">Last Updated: Loading...</p>
    </header>

    <!-- KPI Section -->
    <section class="kpi-grid">
      <div class="kpi-card">
        <h2>Total Products</h2>
        <p id="kpi-total-products">--</p>
      </div>
      <div class="kpi-card">
        <h2>Avg. Product Score</h2>
        <p id="kpi-avg-score">--</p>
      </div>
      <div class="kpi-card">
        <h2>Predicted Hits</h2>
        <p id="kpi-total-hits">--</p>
      </div>
      <div class="kpi-card">
        <h2>Hit Rate</h2>
        <div class="chart-container">
          <canvas id="hit-rate-chart"></canvas>
        </div>
      </div>
    </section>

    <!-- Main Content: Table and Simulator -->
    <section class="main-content">
      <div class="table-container">
        <h2>Product Explorer</h2>
        <p>Top 100 products by review count.</p>
        <div class="table-wrapper">
          <table>
            <thead>
              <tr>
                <th>Product ID</th>
                <th>Avg. Score</th>
                <th>Review Count</th>
                <th>Avg. Helpfulness</th>
                <th>Prediction</th>
              </tr>
            </thead>
            <tbody id="product-table-body">
              <!-- Rows will be injected by JavaScript -->
            </tbody>
          </table>
        </div>
      </div>

      <div class="simulator-container">
        <h2>Product Success Prediction</h2>
        <form id="prediction-form">
          <div class="form-group">
            <label for="avg_sentiment">
              Avg. Sentiment: <span id="avg_sentiment_val">0.5</span>
              <span class="info-tooltip">
                <i class="info-icon">?</i>
                <span class="tooltip-text">
                  Measures review positivity from 0 (very negative) to 1 (very positive). A higher score suggests customers are happier with the product. <strong>Higher is better.</strong>
                </span>
              </span>
            </label>
            <input type="range" id="avg_sentiment" min="0" max="1" step="0.01" value="0.5">
          </div>
          <div class="form-group">
            <label for="avg_score">
              Avg. Score: <span id="avg_score_val">4.3</span>
               <span class="info-tooltip">
                <i class="info-icon">?</i>
                <span class="tooltip-text">
                  The average star rating customers gave the product, from 1 to 5. This is a primary indicator of quality. <strong>Higher is better.</strong>
                </span>
              </span>
            </label>
            <input type="range" id="avg_score" min="1" max="5" step="0.1" value="4.3">
          </div>
          <div class="form-group">
            <label for="review_count">
              Review Count: <span id="review_count_val">50</span>
               <span class="info-tooltip">
                <i class="info-icon">?</i>
                <span class="tooltip-text">
                  The total number of reviews a product has received. More reviews give the prediction more confidence. <strong>Higher is generally better.</strong>
                </span>
              </span>
            </label>
            <input type="range" id="review_count" min="1" max="500" step="1" value="50">
          </div>
          <div class="form-group">
            <label for="score_stddev">
              Score StdDev: <span id="score_stddev_val">0.8</span>
               <span class="info-tooltip">
                <i class="info-icon">?</i>
                <span class="tooltip-text">
                  Measures how much the star ratings vary. A low value means scores are consistent (e.g., all 4s and 5s). A high value means they are mixed (e.g., many 1s and 5s).
                </span>
              </span>
            </label>
            <input type="range" id="score_stddev" min="0" max="2" step="0.01" value="0.8">
          </div>
          <div class="form-group">
            <label for="avg_helpfulness">
              Avg. Helpfulness: <span id="avg_helpfulness_val">0.3</span>
               <span class="info-tooltip">
                <i class="info-icon">?</i>
                <span class="tooltip-text">
                  The average 'helpful' vote ratio from 0 to 1. A high score means other customers find the reviews useful for making decisions. <strong>Higher is better.</strong>
                </span>
              </span>
            </label>
            <input type="range" id="avg_helpfulness" min="0" max="1" step="0.01" value="0.3">
          </div>
        </form>
        <div id="result-container">
          <h2>Prediction Result</h2>
          <p id="prediction-output">--</p>
          <p id="model-version-output"></p>
        </div>
      </div>
    </section>
  </div>
  <script src="script.js"></script>
</body>
</html>